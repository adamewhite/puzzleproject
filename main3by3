var $ = function (id) { return document.getElementById(id); }


var randomNumber = function (min, max) {
	return Math.floor ( Math.random() * ( max - min + 1 ) + min );
}

var tileNumber = randomNumber (1,9);

var answerArray = [false, false, false, false, false, false, false, false, false];

var tileSwitch = function () {

	switch (tileNumber) {
	case 1:
		document.getElementById("tileTemplate").src = "images/catImage1.jpg";
		break;
	case 2:
		document.getElementById("tileTemplate").src = "images/catImage2.jpg";
		break;
	case 3:
		document.getElementById("tileTemplate").src = "images/catImage3.jpg";
		break;
	case 4:
		document.getElementById("tileTemplate").src = "images/catImage4.jpg";
		break;
	case 5:
		document.getElementById("tileTemplate").src = "images/catImage5.jpg";
		break;
	case 6:
		document.getElementById("tileTemplate").src = "images/catImage6.jpg";
		break;
	case 7:
		document.getElementById("tileTemplate").src = "images/catImage7.jpg";
		break;
	case 8:
		document.getElementById("tileTemplate").src = "images/catImage8.jpg";
		break;
	case 9:
		document.getElementById("tileTemplate").src = "images/catImage9.jpg";
		break;
	}	

	document.getElementById("guess").focus();
	
	setTimeout(console.log("quit"), 5000);

}

var gamePlay = function () {
	var submittedGuess = parseInt(document.getElementById("guess").value);

	if (submittedGuess == "") {
		document.getElementById("guess").focus();
	} else {
		if (isNaN(submittedGuess) || submittedGuess > 9) {
		document.getElementById("verify").firstChild.nodeValue = "Please enter a valid number.";
		document.getElementById("guess").value = "";
		document.getElementById("guess").focus();
		return;
	}
	}
	document.getElementById("verify").firstChild.nodeValue = "";

	if (submittedGuess != tileNumber) {
		gameOver();
	}

	if (submittedGuess == tileNumber) {
		answerArray[tileNumber - 1] = true;
		if (answerArray[0] == true && answerArray[1] == true && 
				answerArray[2] == true && answerArray[3] == true && 
				answerArray[4] == true && answerArray[5] == true && 
				answerArray[6] == true && answerArray[7] == true && answerArray[8] == true) {
				//alert("You won!");
				document.getElementById("tile1").src = "images/catImage1.jpg";
				document.getElementById("tile2").src = "images/catImage2.jpg";
				document.getElementById("tile3").src = "images/catImage3.jpg";
				document.getElementById("tile4").src = "images/catImage4.jpg";
				document.getElementById("tile5").src = "images/catImage5.jpg";
				document.getElementById("tile6").src = "images/catImage6.jpg";
				document.getElementById("tile7").src = "images/catImage7.jpg";
				document.getElementById("tile8").src = "images/catImage8.jpg";
				document.getElementById("tile9").src = "images/catImage9.jpg";
				document.getElementById("tileTemplate").src = "images/youWon.jpg";
				document.getElementById("letsBegin").disabled = true;
				document.getElementById("guess").blur();

			} else {
			
			console.log(answerArray);

			do { 
				tileNumber = randomNumber(1,9);
			} while ( answerArray[tileNumber - 1] == true ) 

			console.log(tileNumber);

			$("guess").value = "";
			document.getElementById("guess").focus();
			tileSwitch();
			return this;
		}
	}
	}

	var initializeGame = function () {
		document.getElementById("tile1").src = "images/tile1.jpg";
		document.getElementById("tile2").src = "images/tile2.jpg";
		document.getElementById("tile3").src = "images/tile3.jpg";
		document.getElementById("tile4").src = "images/tile4.jpg";
		document.getElementById("tile5").src = "images/tile5.jpg";
		document.getElementById("tile6").src = "images/tile6.jpg";
		document.getElementById("tile7").src = "images/tile7.jpg";
		document.getElementById("tile8").src = "images/tile8.jpg";
		document.getElementById("tile9").src = "images/tile9.jpg";
		document.getElementById("tileTemplate").src = "images/tileTemplate.jpg";
		document.getElementById("letsBegin").disabled = false;
		document.getElementById("guess").blur();
		document.getElementById("verify").firstChild.nodeValue = "";
		answerArray = [false, false, false, false, false, false, false, false, false];
	}

	var gameOver = function () {
		document.getElementById("tileTemplate").src = "images/gameOver.jpg";
		document.getElementById("guess").value = "";
		document.getElementById("verify").firstChild.nodeValue = "";
		document.getElementById("guess").blur();
		document.getElementById("letsBegin").disabled = true;
	}

window.onload = function (){
	$("letsBegin").onclick = tileSwitch;
	$("guess").onkeyup = gamePlay;
	$("resetGame").onclick = initializeGame;
}
